<div
  class="w-9/12 m-auto mt-4"
  *ngFor="let group of groupedMovements; let i = index"
>
  <h3 class="text-lg font-bold text-gray-700 mb-2">
    {{ group.date | date : "fullDate" }}
  </h3>
  <div class="flex flex-col items-center">
    <ul
      class="divide-y divide-gray-200 border border-gray-200 rounded-lg w-full"
    >
      <li
        *ngFor="let movement of group.items"
        (click)="openPopup(i)"
        class="flex justify-between items-center p-3 hover:bg-gray-50 transition"
      >
        <!-- Left section: category + note -->
        <div>
          <p class="font-medium text-gray-800">{{ movement.category }}</p>
          <p class="text-sm text-gray-500">
            {{ movement.date | date : "mediumDate" }}
          </p>
          <p *ngIf="movement.note" class="text-xs text-gray-400 italic">
            "{{ movement.note }}"
          </p>
        </div>

        <!-- Right section: amount -->
        <div>
          <span
            class="font-semibold"
            [ngClass]="movement.amount >= 0 ? 'text-green-600' : 'text-red-600'"
          >
            â‚¹{{ movement.amount }}
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
